---
import { CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../../layouts/BlogPost.astro";

const posts = await getCollection("blog");
let postPage: any = undefined;
posts.map((post) => {
  if (Astro.params.slug === post.slug) {
    postPage = post;
  }
});

if (!postPage) {
  Astro.redirect("/blog");
}
const { Content } = await postPage.render();
---

<BlogPost {...postPage.data}>
  <Content />
</BlogPost>
